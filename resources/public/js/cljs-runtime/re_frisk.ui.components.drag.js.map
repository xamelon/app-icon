{"version":3,"sources":["re_frisk/ui/components/drag.cljs"],"mappings":";AAKA,AAAA,AAAAA,AAAAC,AAAAC,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAASC,AAAU,AAAA,AAACC;;AAEpB,AAAA,AAAMC,AAAoBC;AAA1B,AACE,AAAA,AAACC,AAAMJ,AAAUK,AAAS,AAAG,AAAWF,AAAK,AAAA,AAAA,AAAAG,AAAUN;;AAEzD,AAAA,AAAMO,AAAkBJ;AAAxB,AACI,AAACK,AAAqBC,AAAUC,AAAoBR;;AACpD,AAAA,AAACE,AAAMJ,AAAUW;;AAErB,AAAA,AAAMC,AAAoBT;AAA1B,AACE,AAAA,AAACC,AAAMJ,AAAUK,AAAc,AAAG,AAAWF,AAAK,AAAQ,AAAwB,AAAUA;;AAC5F,AAACU,AAAmBJ,AAAUC,AAAoBR;;AAEpD,AAACW,AAAmBJ,AAAUK,AAAkBP","names":["js/re-frisk","js/re-frisk.ui","js/re-frisk.ui.components","js/re-frisk.ui.components.drag","js/re-frisk.ui.components.drag.draggable","re-frisk.ui.components.drag/draggable","reagent.core.atom","re-frisk.ui.components.drag/mouse-move-handler","evt","cljs.core.swap_BANG_","cljs.core/assoc","cljs.core/deref","re-frisk.ui.components.drag/mouse-up-handler","goog.events/unlisten","js/window","goog.events.EventType/MOUSEMOVE","cljs.core/dissoc","re-frisk.ui.components.drag/mouse-down-handler","goog.events/listen","goog.events.EventType/MOUSEUP"],"sourcesContent":["(ns re-frisk.ui.components.drag\n  (:require [goog.events :as goog-events]\n            [reagent.core :as reagent])\n  (:import [goog.events EventType]))\n\n(defonce draggable (reagent/atom {}))\n\n(defn mouse-move-handler [evt]\n  (swap! draggable assoc :x (- (.-clientX evt) (:offset @draggable))))\n\n(defn mouse-up-handler [evt]\n    (goog-events/unlisten js/window EventType.MOUSEMOVE mouse-move-handler)\n    (swap! draggable dissoc :offset))\n\n(defn mouse-down-handler [evt]\n  (swap! draggable assoc :offset (- (.-clientX evt) (.-left (.getBoundingClientRect (.-target evt)))))\n  (goog-events/listen js/window EventType.MOUSEMOVE mouse-move-handler))\n\n(goog-events/listen js/window EventType.MOUSEUP mouse-up-handler)"]}